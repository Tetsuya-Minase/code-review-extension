<!DOCTYPE html>
<html>
<head>
    <title>Code Review AI Icon Generator</title>
</head>
<body>
    <canvas id="icon16" width="16" height="16"></canvas>
    <canvas id="icon48" width="48" height="48"></canvas>
    <canvas id="icon128" width="128" height="128"></canvas>
    
    <script>
        function createIcon(canvasId, size) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            
            // 背景を透明にする
            ctx.clearRect(0, 0, size, size);
            
            // 背景の円形
            ctx.fillStyle = '#2563eb'; // 青色
            ctx.beginPath();
            ctx.arc(size/2, size/2, size/2 - 1, 0, 2 * Math.PI);
            ctx.fill();
            
            // コードブロックアイコン
            ctx.fillStyle = '#ffffff';
            const padding = size * 0.2;
            const rectWidth = size - padding * 2;
            const rectHeight = size - padding * 2;
            
            // 外枠
            ctx.fillRect(padding, padding, rectWidth, rectHeight);
            
            // 内部（暗い部分）
            ctx.fillStyle = '#1e40af';
            ctx.fillRect(padding + 2, padding + 2, rectWidth - 4, rectHeight - 4);
            
            // コード行を表現
            ctx.fillStyle = '#60a5fa';
            const lineHeight = size * 0.06;
            const lineMargin = size * 0.04;
            const startY = padding + lineMargin;
            
            for (let i = 0; i < 3; i++) {
                const y = startY + i * (lineHeight + lineMargin);
                const lineWidth = rectWidth - lineMargin * 2 - (i * size * 0.1);
                ctx.fillRect(padding + lineMargin, y, lineWidth, lineHeight);
            }
            
            // チェックマーク（AI Review完了を表現）
            ctx.strokeStyle = '#10b981'; // 緑色
            ctx.lineWidth = size * 0.08;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            const checkSize = size * 0.15;
            const checkX = size - padding - checkSize;
            const checkY = padding + checkSize;
            
            ctx.beginPath();
            ctx.moveTo(checkX - checkSize * 0.3, checkY);
            ctx.lineTo(checkX, checkY + checkSize * 0.3);
            ctx.lineTo(checkX + checkSize * 0.6, checkY - checkSize * 0.3);
            ctx.stroke();
            
            return canvas;
        }
        
        function downloadIcon(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
        
        // アイコンを生成
        const icon16 = createIcon('icon16', 16);
        const icon48 = createIcon('icon48', 48);
        const icon128 = createIcon('icon128', 128);
        
        // 自動ダウンロード
        setTimeout(() => {
            downloadIcon(icon16, 'icon-16.png');
            setTimeout(() => downloadIcon(icon48, 'icon-48.png'), 100);
            setTimeout(() => downloadIcon(icon128, 'icon-128.png'), 200);
        }, 500);
    </script>
</body>
</html>